<h2>Administrar Usuarios</h2>
@if (cargando()) { <p>Cargando...</p> }
@if (error()) { <p class="error">{{ error() }}</p> }

@if (!cargando() && !error()) {
<table class="usuarios-table">
	<thead>
		<tr>
			<th>ID</th>
			<th>Nombre</th>
			<th>Email</th>
			<th>Rol</th>
			<th>Cambiar Rol</th>
		</tr>
	</thead>
	<tbody>
		@for (u of usuarios; track u.id) {
			<tr>
				<td>{{u.id}}</td>
				<td>{{u.nombre}}</td>
				<td>{{u.email}}</td>
				<td>{{u.rol}}</td>
				<td>
					<select [value]="u.rol" (change)="cambiarRol(u, $any($event.target).value)">
						<option value="usuario">usuario</option>
						<option value="admin">admin</option>
						<option value="vendedor">vendedor</option>
					</select>
				</td>
			</tr>
		}
	</tbody>
  </table>
}
